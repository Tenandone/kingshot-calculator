<!-- ✅ Server Timeline (template like your reference) -->
<div class="page timeline-page">
  <!-- 목록 카드 썸네일 -->
  <img class="db-thumb" src="/img/timeline/server-age-thumb-300.webp" alt="" style="display:none">

  <h1>서버 타임라인</h1>
  <p class="muted">서버 오픈 후 주요 이정표(영웅/펫/시설/이벤트). 서버마다 ±7~21일 차이 날 수 있어요.</p>

  <div id="timeline"></div>
</div>

<style>
  .timeline-page{max-width:1200px;margin:0 auto;padding:10px 0 60px}
  .timeline-page .muted{color:var(--muted,#6b7280);font-size:14px;margin-bottom:12px}

  /* 메인 타임라인 레이아웃: 가운데 축 + 양측 컨텐츠(참고 이미지 느낌) */
  #timeline{position:relative}
  #timeline::before{
    content:"";position:absolute;left:50%;top:0;bottom:0;width:2px;background:var(--border,#e5e7eb);
    transform:translateX(-50%);
  }
  .row{
    display:grid;grid-template-columns:minmax(260px,1fr) 80px minmax(360px,1.2fr);
    gap:18px;align-items:flex-start;position:relative;margin:28px 0;padding:6px 0;
  }
  .row .dot{
    grid-column:2;justify-self:center;width:18px;height:18px;border:4px solid #3b82f6;background:#0f1318;border-radius:50%;
  }
  .side{grid-column:1}
  .right{grid-column:3}

  .day{font-size:12px;color:var(--muted,#6b7280)}
  .title{font-weight:800;margin-top:2px}
  .badges{display:flex;flex-wrap:wrap;gap:6px;margin-top:4px}
  .badge{border:1px solid var(--border,#e5e7eb);border-radius:999px;padding:2px 8px;font-size:12px}

  /* 카드(영웅/펫/시설) */
  .cards{display:flex;flex-wrap:wrap;gap:12px}
  .card{display:flex;align-items:center;gap:8px;border:1px solid var(--border,#e5e7eb);border-radius:12px;padding:8px 10px}
  .card img{width:44px;height:44px;object-fit:contain}
  .name{font-weight:700}
  .sub{font-size:12px;color:var(--muted,#6b7280)}
  .rar-SSR{color:#fbbf24}.rar-SR{color:#60a5fa}.rar-R{color:#c084fc}

  /* 이벤트/설명 리스트(좌측) */
  .milestones{display:grid;gap:6px;margin-top:6px}
  .milestone{display:flex;gap:8px;align-items:center}
  .milestone img{width:18px;height:18px;object-fit:contain}

  @media (max-width:900px){
    .row{grid-template-columns:1fr 30px 1fr}
    .cards .card{flex:1 1 48%}
  }
  @media (max-width:600px){
    .row{grid-template-columns:1fr}
    #timeline::before{left:12px;transform:none}
    .row .dot{grid-column:1;justify-self:flex-start;margin-left:3px}
    .side{order:2}.right{order:3}
  }
</style>

<script>
/** === 데이터만 바꾸면 됨 ===
 * day: 숫자(서버 오픈 후 일수), title: 구간 제목, badges: 라벨,
 * milestones: 좌측 설명/아이콘 목록, heroes/pets/buildings: 우측 카드 목록
 */
const DATA = [
  {
    day: 0,
    title: "서버 오픈",
    badges: ["시작", "VIP 팩"],
    milestones: [
      { text: "Hall of Chief/King of Icefield", icon: "/img/icons/hall.webp" },
      { text: "Alliance Mobilization", icon: "/img/icons/alliance.webp" }
    ],
    heroes: [
      { name:"Sergey", rarity:"SSR", icon:"/img/heroes/sergey.webp" },
      { name:"Jessie", rarity:"SR",  icon:"/img/heroes/jessie.webp" },
      { name:"Patrick",rarity:"R",   icon:"/img/heroes/patrick.webp" }
    ]
  },
  {
    day: 40,
    title: "Gen 2 영웅",
    heroes: [
      { name:"Flint", rarity:"SSR", icon:"/img/heroes/flint.webp" },
      { name:"Philly",rarity:"SR",  icon:"/img/heroes/philly.webp" },
      { name:"Alonso",rarity:"R",   icon:"/img/heroes/alonso.webp" }
    ]
  },
  {
    day: 85,
    title: "SVS & KOI 시작",
    badges: ["전장", "연맹 경쟁"],
    milestones: [{ text:"시즌 이벤트 개시", icon:"/img/icons/trophy.webp" }]
  },
  {
    day: 120,
    title: "Gen 3 영웅",
    heroes: [
      { name:"Logan", rarity:"SSR", icon:"/img/heroes/logan.webp" },
      { name:"Mia",   rarity:"SR",  icon:"/img/heroes/mia.webp" },
      { name:"Greg",  rarity:"R",   icon:"/img/heroes/greg.webp" }
    ]
  },
  {
    day: 145,
    title: "크리스탈 연구소 Lv.5",
    badges: ["시설", "연구"],
    pets: [
      { name:"Snow Leopard", icon:"/img/pets/snow-leopard.webp" },
      { name:"Giant Elk",    icon:"/img/pets/giant-elk.webp" }
    ]
  },
  { day: 180, title: "전설 영웅(초기)", badges:["획득 난이도↑"] },
  // ...원하는 만큼 이어서 추가
];

/* ===== 렌더러 ===== */
const $ = (s, p=document) => p.querySelector(s);

function Badge(t){ return `<span class="badge">${t}</span>`; }
function Card({icon,name,rarity,tag}){
  const rar = rarity ? `rar-${rarity}` : "";
  return `<div class="card">
    ${icon?`<img src="${icon}" alt="${name}" loading="lazy" decoding="async">`:``}
    <div><div class="name ${rar}">${name||""}</div>
    <div class="sub">${[rarity,tag].filter(Boolean).join(" · ")}</div></div>
  </div>`;
}
function Milestone({icon,text}){
  return `<div class="milestone">${icon?`<img src="${icon}" alt="">`:``}<span>${text}</span></div>`;
}
function Row(e){
  const badges = (e.badges||[]).map(Badge).join("");
  const left  = (e.milestones||[]).map(Milestone).join("");
  const right = [
    ...(e.heroes||[]).map(h=>Card(h)),
    ...(e.pets||[]).map(p=>Card({...p, tag:"펫"})),
    ...(e.buildings||[]).map(b=>Card({...b, tag:"시설"}))
  ].join("");
  return `<section class="row">
    <div class="side">
      <div class="day">Day ${e.day}</div>
      <div class="title">${e.title||""}</div>
      ${badges?`<div class="badges">${badges}</div>`:""}
      ${left?`<div class="milestones">${left}</div>`:""}
    </div>
    <div class="dot" aria-hidden="true"></div>
    <div class="right"><div class="cards">${right}</div></div>
  </section>`;
}
(function render(){
  $("#timeline").innerHTML = DATA.sort((a,b)=>a.day-b.day).map(Row).join("");
})();
</script>
