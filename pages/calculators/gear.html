<!-- pages/calculators/gear.html (i18n 적용본, calcGear로 정합) -->
<!doctype html>
<html lang="ko">
<head>
  <base href="/" />
<script src="/js/standalone-bridge.js?v=202509120604" defer></script>
  <meta charset="utf-8">
  <meta name="robots" content="noindex,nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title data-i18n="calcGear.meta.title">Kingshot 영주 장비 계산기</title>
</head>
<body>
  <main id="calc-ui" class="calc-wrap" aria-labelledby="gear-title">
    <!-- 헤더/안내 -->
    <section class="calc-card">
      <h2 id="gear-title" class="calc-title" data-i18n="calcGear.title">영주 장비 계산기</h2>
      <p class="calc-desc" data-i18n="calcGear.desc">아래 간편한 킹샷 영주 장비 계산기를 사용해보세요.</p>

      <h3 class="calc-desc" data-i18n="calcGear.howto.title">사용 방법</h3>
      <ol class="calc-desc" style="margin-left:18px">
        <li data-i18n="calcGear.howto.step1">현재 보유한 영주 장비 <strong>단계</strong>를 선택하세요.</li>
        <li data-i18n="calcGear.howto.step2">업그레이드하려는 <strong>목표 단계</strong>를 선택하세요.</li>
        <li data-i18n="calcGear.howto.step3">
          상단 탭에서 업그레이드할 <strong>장비 슬롯</strong>을 고르세요.<br>
          <span class="help" data-i18n="calcGear.howto.slotsHelp">
            슬롯: 모자·목걸이(기병), 상의·하의(보병), 반지·지팡이(궁병)
          </span>
        </li>
        <li data-i18n="calcGear.howto.step4"><strong>계산하기</strong> 버튼을 누르세요.</li>
      </ol>
    </section>

    <!-- 계산기 본체 마운트 영역 -->
    <section class="calc-card" style="margin-top:14px">
      <div id="gear-calc" aria-live="polite"></div>
    </section>

    <!-- 참고/주의 -->
    <section class="calc-card" style="margin-top:14px">
      <h3 class="calc-title" style="font-size:18px" data-i18n="calcGear.notice.title">주의사항</h3>
      <div class="notice-box">
        <p data-i18n="calcGear.notice.p1">본 자료는 인게임 표기값을 기반으로 정리한 팬메이드 데이터입니다.</p>
        <ul class="notice-list">
          <li data-i18n="calcGear.notice.li1">패치/밸런스 조정에 따라 수치가 달라질 수 있습니다.</li>
          <li data-i18n="calcGear.notice.li2">오타·오류 제보는 문의하기로 부탁드립니다.</li>
        </ul>
        <p class="muted">
          <a href="/about" data-i18n="calcGear.notice.contact">문의하기</a>
        </p>
      </div>
    </section>
  </main>

  <!-- 단독 테스트 시(라우터 없이): i18n init 이후 실행
  <script src="/js/gear-calculator.js?v=202509120604"></script>
  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      await I18N.init({ lang: 'ko' });
      // calcGear 네임스페이스가 분리되어 있다면 보장
      if (I18N.loadNamespace) { try { await I18N.loadNamespace('calcGear'); } catch(e){} }

      window.initGearCalculator?.({
        mount: '#gear-calc',
        jsonUrl: '/data/governor-gear.json',
        slots: [
          I18N.t('calcGear.slots.hat'),
          I18N.t('calcGear.slots.necklace'),
          I18N.t('calcGear.slots.armor'),
          I18N.t('calcGear.slots.pants'),
          I18N.t('calcGear.slots.ring'),
          I18N.t('calcGear.slots.staff')
        ]
      });
    });
  </script>
  -->
</body>
</html>
