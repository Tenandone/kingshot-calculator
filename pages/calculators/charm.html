<!doctype html>
<html lang="ko">
<head>
  <base href="/" />
<script src="/js/standalone-bridge.js?v=202509120604" defer></script>
  <meta charset="utf-8">
  <meta name="robots" content="noindex,nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title data-i18n="calcCharm.meta.title">Kingshot 영주 보석 계산기</title>
  <!-- 스타일은 /css/common.css?v=202509120604 의 .calc-wrap / .calc-card 규칙을 사용 -->
  <style>
    /* ✅ 표 컨테이너 여백 추가해서 상단 짤림 방지 */
    .calc-table-container {
      overflow-y: auto;
      max-height: 400px;
      padding-top: 6px;
    }
  </style>
</head>
<body>
  <main id="calc-ui" class="calc-wrap" aria-labelledby="charm-title">

    <!-- 헤더/안내 -->
    <section class="calc-card">
      <h2 id="charm-title" class="calc-title" data-i18n="calcCharm.title">영주 보석 계산기</h2>
      <p class="calc-desc" data-i18n="calcCharm.desc">
        현재 보석 레벨, 목표 레벨, 병종별 개수를 입력하면 필요한 <strong>보석매뉴얼/보석도면</strong>과 <strong>총 속성 증가</strong>를 계산합니다.
      </p>

      <h3 class="calc-desc" data-i18n="calcCharm.howto.title">사용 방법</h3>
      <ol class="calc-desc" style="margin-left:18px">
        <li data-i18n="calcCharm.howto.step1">현재 보석 <strong>레벨</strong>과 <strong>목표 레벨</strong>을 선택하세요.</li>
        <li data-i18n="calcCharm.howto.step2">업그레이드할 보석의 <strong>병종별 개수</strong>를 입력하세요. (기병·보병·궁병 / 예: 3·3·3)</li>
        <li data-i18n="calcCharm.howto.step3"><strong>계산하기</strong> 버튼을 누르세요.</li>
      </ol>
    </section>

    <!-- 계산기 본체 마운트 영역 -->
    <section class="calc-card" style="margin-top:14px">
      <div id="charm-calc" aria-live="polite"></div>
    </section>

    <!-- 참고/주의 -->
    <section class="calc-card" style="margin-top:14px">
      <h3 class="calc-title" style="font-size:18px" data-i18n="calcCharm.notice.title">주의사항</h3>
      <div class="notice-box">
        <p data-i18n="calcCharm.notice.p1">본 자료는 인게임 표기값을 기반으로 정리한 팬메이드 데이터입니다.</p>
        <ul class="notice-list">
          <li data-i18n="calcCharm.notice.li1">패치/밸런스 조정에 따라 수치가 달라질 수 있습니다.</li>
          <li data-i18n="calcCharm.notice.li2">오타·오류 제보는 <a href="/about">문의하기</a>로 부탁드립니다.</li>
        </ul>
      </div>
    </section>

  </main>

  <!-- ⚠️ 스크립트는 routes.js의 '/calc-charm' 라우트에서 동적 로드/초기화합니다. -->
  <!-- 단독 테스트 필요 시 아래 임시 활성화 -->
  <!--
  <script src="/js/charm-calculator.js?v=202509120604"></script>
  <script>
    window.initCharmCalculator?.({
      mount: '#charm-calc',
      jsonUrl: '/data/governor-charm.json',
      tableContainerClass: 'calc-table-container' // ✅ 표 컨테이너 클래스 적용
    });
  </script>
  -->
</body>
</html>
