/* ==========================================================
   KingshotData — mobile-patch.css
   기존 스타일 유지 + 모바일 최적화
   ========================================================== */

/* 1) 모든 카테고리 그리드: 화면 크기에 맞춰 자동 배치 */
.category-grid,
#buildings-grid,
#heroes-grid,
#db-grid,
#calc-grid {
  display: grid;
  gap: 12px;
  grid-template-columns: repeat(auto-fit, minmax(60px, 1fr)); /* 최소 60px까지 줄어듦 */
  align-items: stretch;
}

/* 태블릿 이상에서는 3칸 고정 */
@media (min-width: 768px) {
  .category-grid,
  #buildings-grid,
  #heroes-grid,
  #db-grid,
  #calc-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

/* 데스크탑 이상에서는 4칸 이상 */
@media (min-width: 1200px) {
  .category-grid,
  #buildings-grid,
  #heroes-grid,
  #db-grid,
  #calc-grid {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

/* 카드 미디어 박스 (홈/전체 동일 적용) */
.card__media {
  aspect-ratio: 16 / 10;
  height: auto;
  display: grid;
  place-items: center;
  background: #f3f4f6;
  border-bottom: 1px solid #e8edf5;
  overflow: hidden;
}
.card__media img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  display: block;
}

/* 카드 본문 (텍스트 최적화) */
.card__body {
  padding: 8px;
  min-width: 0;
}
.card__title {
  font-weight: 700;
  font-size: 14px;
  margin: 0 0 2px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.card__subtitle {
  opacity: .8;
  font-size: 12px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* 작은 화면일 때 텍스트/패딩 축소 */
@media (max-width: 480px) {
  .card__body { padding: 4px; }
  .card__title { font-size: 12px; }
  .card__subtitle { font-size: 10px; }
}

/* 스티키 헤더 */
.theme-default .site-header {
  position: sticky;
  top: 0;
  z-index: 50;
  background: #fff;
}

/* 표 안전 처리 */
.table-wrap { overflow-x: auto; -webkit-overflow-scrolling: touch; }
.table-wrap table { min-width: 560px; width: 100%; border-collapse: collapse; }

/* 콘텐츠 미디어 반응형 */
#content img, #content video, #content canvas {
  max-width: 100%;
  height: auto;
  display: block;
}
/* 카테고리 카드 제목/부제목: 한 줄 고정 + … 처리 */
.category-grid .card__title,
#buildings-grid .card__title,
#heroes-grid .card__title,
#db-grid .card__title,
#calc-grid .card__title,
.category-grid .card__subtitle,
#buildings-grid .card__subtitle,
#heroes-grid .card__subtitle,
#db-grid .card__subtitle,
#calc-grid .card__subtitle {
  text-align: center;
  white-space: nowrap !important;     /* 무조건 한 줄 */
  overflow: hidden !important;        /* 넘치면 숨김 */
  text-overflow: ellipsis !important; /* … 표시 */
  display: block;                     /* inline에서 깨지는 경우 방지 */
  width: 100%;                        /* 부모 너비 꽉 채우기 */
}
#buildings-grid .card__title {
  text-align: center;
  font-size: clamp(12px, 2vw, 14px);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  display: block;    /* inline이면 깨지니까 block 강제 */
  width: 100%;       /* 부모(.card__body)의 폭 꽉 채우기 */
  box-sizing: border-box;
}
